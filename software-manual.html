<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全景下载器使用手册</title>
    <link rel="icon"
        href="data:image/png;base64,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"
        type="image/x-icon">
    <!-- Prism.js 用于代码高亮 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/line-numbers/prism-line-numbers.min.css">
    <style>
        :root {
            --primary-color: #2C7BE5;
            --sidebar-bg: #f5f7fa;
            --content-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e1e4e8;
            --hover-bg: #e9ecef;
            --active-bg: #d7e3fa;
            --code-bg: #f6f8fa;
            --link-color: #0366d6;
            --header-bg: #ffffff;
            --font-main: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            --font-code: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            --sidebar-width: 280px;
        }

        /* 黑暗模式变量 */
        body.dark-mode {
            --primary-color: #58a6ff;
            --sidebar-bg: #161b22;
            --content-bg: #0d1117;
            --text-color: #c9d1d9;
            --border-color: #30363d;
            --hover-bg: #21262d;
            --active-bg: #1f2e4a;
            --code-bg: #1c2128;
            --link-color: #58a6ff;
            --header-bg: #161b22;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            color: var(--text-color);
            background-color: var(--content-bg);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            transition: background-color 0.3s, color 0.3s;
        }

        header {
            background-color: var(--header-bg);
            border-bottom: 1px solid var(--border-color);
            padding: 0.75rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            align-items: center;
        }

        .logo {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary-color);
            text-decoration: none;
            margin-right: 1rem;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--text-color);
            padding: 0.25rem;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        #search-container {
            position: relative;
        }

        #search-input {
            padding: 0.5rem 0.75rem;
            padding-right: 2.5rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 0.9rem;
            width: 250px;
            background-color: var(--content-bg);
            color: var(--text-color);
            transition: border-color 0.3s;
        }

        #search-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .search-icon {
            position: absolute;
            top: 50%;
            right: 0.75rem;
            transform: translateY(-50%);
            color: #666;
            pointer-events: none;
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            padding: 0.4rem;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .theme-toggle:hover {
            background-color: var(--hover-bg);
        }

        .main-container {
            display: flex;
            flex: 1;
        }

        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            padding: 1.5rem 0;
            overflow-y: auto;
            position: sticky;
            top: 58px;
            /* Header height */
            height: calc(100vh - 58px);
            transition: transform 0.3s;
        }

        .sidebar-section {
            margin-bottom: 1.5rem;
        }

        .sidebar-title {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #666;
            padding: 0 1.5rem;
            margin-bottom: 0.5rem;
        }

        .sidebar-nav {
            list-style: none;
        }

        .nav-item {
            margin: 2px 0;
        }

        .nav-link {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--text-color);
            padding: 0.5rem 1.5rem;
            font-size: 0.95rem;
            transition: background-color 0.2s;
            border-left: 3px solid transparent;
        }

        .nav-link:hover {
            background-color: var(--hover-bg);
        }

        .nav-link.active {
            background-color: var(--active-bg);
            border-left-color: var(--primary-color);
            font-weight: 500;
        }

        .nav-icon {
            margin-right: 0.5rem;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .content {
            flex: 1;
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }

        .section {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        .section.active {
            display: block;
        }

        /* 产品介绍页样式 */
        #introduction {
            position: relative;
            padding-bottom: 2rem;
        }

        #introduction h1 {
            color: var(--primary-color);
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        #introduction h2 {
            font-size: 1.6rem;
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            color: #444;
            padding-left: 0.8rem;
            border-left: 4px solid var(--primary-color);
        }

        .dark-mode #introduction h2 {
            color: #e6e6e6;
        }

        #introduction p {
            font-size: 1.05rem;
            line-height: 1.7;
            margin-bottom: 1.2rem;
        }

        /* 特色功能列表 */
        #introduction-features+ul {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
            padding: 0.5rem;
        }

        #introduction-features+ul li {
            background-color: var(--sidebar-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin: 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            list-style-type: none;
        }

        #introduction-features+ul li:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-color: var(--primary-color);
        }

        #introduction-features+ul li strong {
            color: var(--primary-color);
            display: block;
            margin-bottom: 0.4rem;
            font-size: 1.1rem;
        }

        #introduction-features+ul li::before {
            content: "✓";
            display: inline-block;
            margin-right: 0.6rem;
            color: var(--primary-color);
            font-weight: bold;
        }

        /* 图片容器增强 */
        #introduction .img-container {
            margin: 2rem 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        #introduction .img-container:hover {
            transform: scale(1.02);
        }

        #introduction .img-container img {
            width: 100%;
            border-radius: 8px;
            border: none;
        }

        #introduction .caption {
            text-align: center;
            padding: 0.8rem;
            font-style: italic;
            color: #666;
            background-color: var(--content-bg);
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
        }

        /* 提示框样式增强 */
        #introduction .note-box {
            border-radius: 8px;
            margin: 2rem 0;
            padding: 1.2rem;
            border-left-width: 6px;
        }

        /* 版本更新样式 */
        #introduction-versions+p {
            padding: 1rem;
            background-color: var(--hover-bg);
            border-radius: 6px;
            font-weight: 500;
        }

        /* 分页导航美化 */
        #introduction .pagination {
            margin-top: 3.5rem;
            padding-top: 2rem;
        }

        #introduction .pagination a {
            padding: 0.7rem 1.2rem;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        #introduction .pagination a:hover {
            background-color: var(--primary-color);
            color: white;
        }

        /* 紧凑型界面概述布局样式 Start */
        .interface-section {
            margin-bottom: 1.5rem;
        }

        .interface-grid {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            /* 增加卡片间距 */
            margin-top: 1rem;
        }

        .interface-card {
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 0.8rem 1rem;
            /* 增加内部填充 */
            background-color: var(--content-bg);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            transition: box-shadow 0.2s ease;
        }

        .interface-card:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 0.6rem;
            /* 增加标题与内容的间距 */
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.6rem;
        }

        .card-icon {
            font-size: 1.1rem;
            /* 稍微增大图标 */
            margin-right: 0.6rem;
            color: var(--primary-color);
        }

        .card-title {
            font-size: 1.05rem;
            /* 增大标题文字 */
            font-weight: 600;
            margin: 0;
            color: var(--primary-color);
        }

        .interface-card ul {
            padding-left: 1.2rem;
            margin: 0.5rem 0;
            /* 增加列表上下间距 */
        }

        .interface-card li {
            margin-bottom: 0.5rem;
            /* 增加列表项间距 */
            font-size: 1rem;
            /* 增大正文文字 */
            line-height: 1.5;
            /* 增加行高，减少拥挤感 */
        }

        .interface-card li strong {
            color: var(--text-color);
            font-weight: 600;
            margin-right: 0.2rem;
            /* 加强标签与描述的区分 */
        }

        /* 内部描述文本改善 */
        .interface-card li p {
            margin: 0.25rem 0;
            /* 给段落加点呼吸空间 */
            padding: 0;
        }

        /* 功能区域内容优化，保留两列选项 */
        .interface-card ul.feature-list {
            column-count: 2;
            column-gap: 1.5rem;
            /* 增加两列间隔 */
            padding-left: 1.2rem;
        }

        /* 小屏幕取消分列 */
        @media (max-width: 500px) {
            .interface-card ul.feature-list {
                column-count: 1;
            }
        }

        /* 卡片组标题样式优化 */
        .section-group-title {
            margin: 1.5rem 0 0.5rem 0;
            font-size: 1.15rem;
            font-weight: 500;
            color: var(--text-color);
            border-bottom: 1px dashed var(--border-color);
            padding-bottom: 0.35rem;
        }

        /* 自适应布局调整 */
        @media (min-width: 768px) {
            .interface-grid {
                display: grid;
                grid-template-columns: repeat(1, 1fr);
                gap: 0.6rem;
            }
        }

        /* 紧凑型界面概述布局样式 End */


        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* 内容样式 */
        h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        h2 {
            font-size: 1.5rem;
            margin: 2rem 0 1rem;
            padding-bottom: 0.25rem;
        }

        h3 {
            font-size: 1.25rem;
            margin: 1.5rem 0 0.75rem;
        }

        p {
            margin-bottom: 1rem;
        }

        a {
            color: var(--link-color);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        code {
            font-family: var(--font-code);
            font-size: 0.9em;
            background-color: var(--code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre {
            background-color: var(--code-bg);
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            margin-bottom: 1.5rem;
        }

        pre code {
            padding: 0;
            background-color: transparent;
        }

        blockquote {
            border-left: 4px solid var(--primary-color);
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
            background-color: var(--code-bg);
            border-radius: 0 4px 4px 0;
        }

        ul,
        ol {
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
        }

        li {
            margin-bottom: 0.25rem;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-color);
        }

        th,
        td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--sidebar-bg);
            font-weight: 600;
        }

        /* 搜索结果样式 */
        #search-results {
            display: none;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--content-bg);
        }

        .search-result-item {
            padding: 0.5rem;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item:hover {
            background-color: var(--hover-bg);
        }

        .search-result-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            padding-bottom: 0.25rem;
            border-bottom: 1px dashed var(--border-color);
        }

        .search-result-snippet {
            font-size: 0.9rem;
            color: #666;
        }

        .highlight {
            background-color: rgba(255, 215, 0, 0.4);
            padding: 0 2px;
            font-weight: bold;
        }

        /* 移动端响应式 */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
                margin-right: 0.75rem;
            }

            .sidebar {
                position: fixed;
                left: 0;
                top: 58px;
                bottom: 0;
                z-index: 99;
                transform: translateX(-100%);
                transition: transform 0.3s;
            }

            .sidebar.active {
                transform: translateX(0);
            }

            #search-input {
                width: 150px;
            }

            .content {
                padding: 1.5rem;
            }
        }

        /* 工具提示 */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .tooltip-text {
            visibility: hidden;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 4px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.8rem;
        }

        .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        /* 优化章节目录样式 - 简洁现代版 */
        .section-toc {
            margin: 1.5rem 0 2rem;
            padding: 0.75rem 0;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--content-bg);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
        }

        /* 标题区域 */
        .section-toc p {
            margin: 0;
            padding: 0 1.25rem 0.6rem;
            font-weight: 500;
            font-size: 0.95rem;
            color: var(--text-color);
            border-bottom: 1px solid var(--border-color);
        }

        /* 列表容器 */
        .section-toc ul {
            padding: 0.6rem 1.25rem;
            margin: 0;
            list-style-type: none;
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem 1rem;
        }

        /* 列表项 */
        .section-toc ul li {
            margin: 0.25rem 0;
            flex: 1 1 45%;
            min-width: 180px;
        }

        /* 列表项链接 */
        .section-toc ul li a {
            display: block;
            text-decoration: none;
            color: var(--link-color);
            font-size: 0.95rem;
            padding: 0.25rem 0;
            transition: color 0.15s, transform 0.15s;
            position: relative;
            padding-left: 0.75rem;
        }

        /* 链接悬停效果 */
        .section-toc ul li a:hover {
            color: var(--primary-color);
            transform: translateX(2px);
        }

        /* 添加小标记到链接前 */
        .section-toc ul li a::before {
            content: "•";
            position: absolute;
            left: 0;
            color: var(--primary-color);
        }

        /* 响应式调整 */
        @media (max-width: 500px) {
            .section-toc ul li {
                flex: 1 1 100%;
            }
        }

        /* 深色模式适配 */
        .dark-mode .section-toc {
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
        }

        /* 上一篇下一篇导航 */
        .pagination {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }

        .pagination a {
            display: flex;
            align-items: center;
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .pagination a:hover {
            background-color: var(--hover-bg);
            text-decoration: none;
        }

        .pagination .pagination-prev::before {
            content: '←';
            margin-right: 0.5rem;
        }

        .pagination .pagination-next::after {
            content: '→';
            margin-left: 0.5rem;
        }

        /* 图片样式 */
        .img-container {
            text-align: center;
            margin: 1.5rem 0;
        }

        .img-container img {
            max-width: 100%;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }

        .caption {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.5rem;
        }

        /* 提示框样式 */
        .note-box {
            margin: 1.5rem 0;
            padding: 1rem;
            border-radius: 4px;
            border-left: 4px solid;
        }

        .note-box.info {
            background-color: rgba(33, 150, 243, 0.1);
            border-left-color: #2196f3;
        }

        .note-box.warning {
            background-color: rgba(255, 152, 0, 0.1);
            border-left-color: #ff9800;
        }

        .note-box.tip {
            background-color: rgba(76, 175, 80, 0.1);
            border-left-color: #4caf50;
        }

        .note-box.danger {
            background-color: rgba(244, 67, 54, 0.1);
            border-left-color: #f44336;
        }

        .note-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .note-title span {
            margin-right: 0.5rem;
        }
    </style>
</head>

<body>
    <header>
        <div class="header-left">
            <button class="menu-toggle" id="menu-toggle">☰</button>
            <a href="#" class="logo">全景下载器使用手册</a>
        </div>
        <div class="header-right">
            <div id="search-container">
                <input type="text" id="search-input" placeholder="搜索文档..." autocomplete="off">
                <span class="search-icon">🔍</span>
            </div>
            <button class="theme-toggle tooltip" id="theme-toggle" aria-label="切换主题">
                <span id="theme-icon">🌙</span>
                <span class="tooltip-text">切换主题</span>
            </button>
        </div>
    </header>

    <div class="main-container">
        <!-- 侧边栏 -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-section">
                <h3 class="sidebar-title">入门指南</h3>
                <ul class="sidebar-nav">
                    <li class="nav-item">
                        <a href="#introduction" class="nav-link active" data-section="introduction">
                            <span class="nav-icon">📋</span>产品介绍
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#system-requirements" class="nav-link" data-section="system-requirements">
                            <span class="nav-icon">🖥️</span>系统要求
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#installation" class="nav-link" data-section="installation">
                            <span class="nav-icon">💿</span>安装指南
                        </a>
                    </li>
                </ul>
            </div>

            <div class="sidebar-section">
                <h3 class="sidebar-title">基本使用</h3>
                <ul class="sidebar-nav">
                    <li class="nav-item">
                        <a href="#interface-overview" class="nav-link" data-section="interface-overview">
                            <span class="nav-icon">🖼️</span>界面概述
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#basic-operations" class="nav-link" data-section="basic-operations">
                            <span class="nav-icon">🔍</span>基本操作
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#file-management" class="nav-link" data-section="file-management">
                            <span class="nav-icon">📁</span>全景图保存
                        </a>
                    </li>
                </ul>
            </div>

            <div class="sidebar-section">
                <h3 class="sidebar-title">高级功能</h3>
                <ul class="sidebar-nav">
                    <li class="nav-item">
                        <a href="#advanced-features" class="nav-link" data-section="advanced-features">
                            <span class="nav-icon">⚙️</span>高级功能
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#automation" class="nav-link" data-section="automation">
                            <span class="nav-icon">🤖</span>批量下载
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#plugins" class="nav-link" data-section="plugins">
                            <span class="nav-icon">🔌</span>转换与拼接
                        </a>
                    </li>
                </ul>
            </div>

            <div class="sidebar-section">
                <h3 class="sidebar-title">配置与定制</h3>
                <ul class="sidebar-nav">
                    <li class="nav-item">
                        <a href="#settings" class="nav-link" data-section="settings">
                            <span class="nav-icon">🔧</span>设置与首选项
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#keyboard-shortcuts" class="nav-link" data-section="keyboard-shortcuts">
                            <span class="nav-icon">⌨️</span>快捷操作
                        </a>
                    </li>
                </ul>
            </div>

            <div class="sidebar-section">
                <h3 class="sidebar-title">故障排除</h3>
                <ul class="sidebar-nav">
                    <li class="nav-item">
                        <a href="#troubleshooting" class="nav-link" data-section="troubleshooting">
                            <span class="nav-icon">🔧</span>常见问题解答
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#error-messages" class="nav-link" data-section="error-messages">
                            <span class="nav-icon">⚠️</span>错误信息解释
                        </a>
                    </li>
                </ul>
            </div>

            <div class="sidebar-section">
                <h3 class="sidebar-title">其他资源</h3>
                <ul class="sidebar-nav">
                    <li class="nav-item">
                        <a href="#updates" class="nav-link" data-section="updates">
                            <span class="nav-icon">🔄</span>更新与升级
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#contact-support" class="nav-link" data-section="contact-support">
                            <span class="nav-icon">📞</span>联系开发者
                        </a>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="content">
            <div id="search-results"></div>

            <!-- 产品介绍 -->
            <section id="introduction" class="section active">
                <h1>全景下载器产品介绍</h1>
                <div class="section-toc">
                    <p>本章内容:</p>
                    <ul>
                        <li><a href="#introduction-overview">产品概述</a></li>
                        <li><a href="#introduction-features">主要功能</a></li>
                        <li><a href="#introduction-versions">版本更新</a></li>
                        <li><a href="#introduction-testimonials">用户反馈</a></li>
                    </ul>
                </div>

                <h2 id="introduction-overview">产品概述</h2>
                <p>全景下载器(ZhuZhuLoadWFP)是一款专为下载和处理全景图像设计的工具软件。它能够帮助用户从各类全景图片网站上获取高质量全景图像，并提供图像拼接、转换等功能，方便用户获取、保存和使用全景图像资源。
                </p>

                <div class="img-container">
                    <img src="img/home.png" alt="全景下载器主界面">
                    <p class="caption">全景下载器主界面示例</p>
                </div>

                <p>无论您是专业摄影师、设计师，还是普通全景图像爱好者，全景下载器都能为您提供简便、高效的全景图像获取解决方案。</p>

                <div class="note-box info">
                    <div class="note-title"><span>ℹ️</span> 提示</div>
                    <p>本手册基于全景下载器最新版本编写。软件持续更新中，部分功能和界面可能有所变化。</p>
                </div>

                <h2 id="introduction-features">主要功能</h2>
                <p>全景下载器提供以下核心功能：</p>
                <ul>
                    <li><strong>全景图下载</strong> - 支持从多个网站下载全景图像</li>
                    <li><strong>图像拼接</strong> - 将下载的分块图像自动拼合成完整全景图</li>
                    <li><strong>格式转换</strong> - 支持多种全景图像格式的转换</li>
                    <li><strong>全景预览</strong> - 提供全景图像的实时预览功能</li>
                    <li><strong>全景漫游</strong> - 提供全景图像的漫游功能</li>
                    <li><strong>全景转视频</strong> - 提供全景图像转视频的功能</li>
                    <li><strong>AI工具</strong> - 提供图像处理的AI工具</li>
                    <li><strong>进度管理</strong> - 提供下载进度显示和管理功能</li>
                    <li><strong>自定义设置</strong> - 灵活的图像参数和保存选项</li>
                </ul>

                <h2 id="introduction-versions">版本更新</h2>
                <p>全景下载器会定期更新以提供更好的性能和新功能</p>

                <h2 id="introduction-testimonials">用户反馈</h2>
                <div class="testimonials-grid">
                    <div class="testimonial-card">
                        <p>"解决了我长期以来的全景图收集难题，效率提升了10倍！"</p>
                        <cite>- 某摄影工作室</cite>
                    </div>
                    <!-- 更多反馈 -->
                </div>

                <div class="pagination">
                    <span></span>
                    <a href="#system-requirements" class="pagination-next" data-section="system-requirements">系统要求</a>
                </div>
            </section>

            <!-- 系统要求 -->
            <section id="system-requirements" class="section">
                <h1>系统要求</h1>
                <p>在安装全景下载器之前，请确保您的系统满足以下最低要求：</p>

                <h2>Windows 系统要求</h2>
                <h3>最低配置</h3>
                <ul>
                    <li>操作系统：Windows 7/8/10/11 (64位)</li>
                    <li>处理器：双核处理器 1.5GHz</li>
                    <li>内存：2GB RAM</li>
                    <li>存储空间：200MB可用空间(不含下载图片空间)</li>
                    <li>显示器：1280 x 720分辨率</li>
                    <li>网络：基本互联网连接</li>
                    <li>运行环境：.NET Framework 4.8</li>
                </ul>

                <h3>推荐配置</h3>
                <ul>
                    <li>操作系统：Windows 10/11 (64位)最新版本</li>
                    <li>处理器：四核处理器 2.5GHz或更高</li>
                    <li>内存：8GB RAM或更高</li>
                    <li>存储空间：1GB可用空间，另加5GB+用于存储全景图像</li>
                    <li>显示器：1920 x 1080或更高分辨率</li>
                    <li>网络：高速稳定的互联网连接</li>
                    <li>GPU：具有2GB+显存的独立显卡(用于全景预览和渲染)</li>
                    <li>运行环境：最新版本的.NET Framework</li>
                </ul>

                <div class="note-box warning">
                    <div class="note-title"><span>⚠️</span> 注意</div>
                    <p>处理大型全景图像时可能需要更多内存和存储空间，建议使用配置较高的计算机以获得最佳体验。</p>
                </div>

                <h2>其他软件要求</h2>
                <p>为了获得完整功能体验，建议安装：</p>
                <ul>
                    <li>图像查看器(如Windows照片查看器、FastStone等)用于查看下载的全景图</li>
                    <li>如需进行高级编辑，建议安装专业图像编辑软件(如Photoshop)</li>
                </ul>

                <div class="pagination">
                    <a href="#introduction" class="pagination-prev" data-section="introduction">产品介绍</a>
                    <a href="#installation" class="pagination-next" data-section="installation">安装指南</a>
                </div>
            </section>

            <!-- 安装指南 -->
            <section id="installation" class="section">
                <h1>安装指南</h1>

                <div class="section-toc">
                    <p>本章内容:</p>
                    <ul>
                        <li><a href="#installation-download">下载软件</a></li>
                        <li><a href="#installation-windows">安装步骤</a></li>
                        <li><a href="#installation-portable">便携版使用</a></li>
                        <li><a href="#installation-first">首次启动</a></li>
                    </ul>
                </div>

                <h2 id="installation-download">下载软件</h2>
                <p>您可以通过以下方式获取全景下载器：</p>
                <ul>
                    <li>蓝奏云盘：<a href="https://zhuzhuyun.lanzoum.com/s/zhuzhuapp"
                            target="_blank">https://zhuzhuyun.lanzoum.com/s/zhuzhuapp</a>
                    </li>
                    <li>从蓝奏云盘下载最新版本的安装包或便携版</li>
                </ul>

                <div class="note-box warning">
                    <div class="note-title"><span>⚠️</span> 警告</div>
                    <p>请仅从官方蓝奏云盘下载软件，以避免安全风险和恶意软件。</p>
                </div>

                <h2 id="installation-windows">安装步骤</h2>
                <!-- <ol>
                    <li>双击下载的安装包（.exe文件）</li>
                    <li>如果出现UAC提示，点击"是"授予安装权限</li>
                    <li>在安装向导中点击"下一步"</li>
                    <li>选择安装位置或保留默认位置，然后点击"下一步"</li>
                    <li>选择是否创建桌面快捷方式，然后点击"安装"</li>
                    <li>等待安装完成</li>
                    <li>选择是否立即启动全景下载器，然后点击"完成"</li>
                </ol> -->

                <h2 id="installation-portable">便携版使用</h2>
                <p>全景下载器提供便携版本，无需安装即可使用：</p>
                <ol>
                    <li>下载便携版压缩包（通常为.zip格式）</li>
                    <li>将压缩包解压到您选择的任意位置</li>
                    <li>双击主程序文件运行软件</li>
                </ol>

                <div class="note-box info">
                    <div class="note-title"><span>ℹ️</span> 提示</div>
                    <p>便携版适合在多台计算机间移动使用，或者在无管理员权限的环境中使用。所有配置和设置将保存在程序目录下。</p>
                </div>

                <h2 id="installation-first">首次启动</h2>
                <p>首次启动全景下载器时：</p>
                <ol>
                    <li>软件会自动检查系统环境是否满足运行要求</li>
                    <li>如缺少.NET Framework，会提示您安装所需版本</li>
                    <li>首次运行会显示软件简介和基本操作指南</li>
                    <li>您可以根据提示设置默认保存路径和其他首选项</li>
                </ol>

                <div class="pagination">
                    <a href="#system-requirements" class="pagination-prev" data-section="system-requirements">系统要求</a>
                    <a href="#interface-overview" class="pagination-next" data-section="interface-overview">界面概述</a>
                </div>
            </section>

            <!-- 界面概述 -->
            <section id="interface-overview" class="section interface-section">
                <h1>主界面组成</h1>
                <p>全景下载器采用直观的功能分区设计，让您能够高效操作和管理全景图像。以下是主界面的核心功能区域详解：</p>

                <div class="img-container">
                    <img src="img/home.png" alt="全景下载器界面组成">
                    <p class="caption">全景下载器界面完整示意图</p>
                </div>

                <div class="interface-grid">
                    <!-- 顶部标题区 -->
                    <div class="interface-card">
                        <div class="card-header">
                            <span class="card-icon">🏷️</span>
                            <h3 class="card-title">1. 顶部标题区</h3>
                        </div>
                        <ul>
                            <li><strong>软件标题</strong> -
                                位于界面左上角，清晰显示"猪猪全景下载器"应用名称和当前版本号(如v1.0.1.9)，让用户随时了解所使用的软件版本，便于反馈问题和获取支持
                            </li>
                            <li><strong>账号信息</strong> - 位于标题栏右侧，提供用户账号状态显示、登录/注册入口、个人信息查看、会员状态展示、点击后可展开完整的账号管理面板</li>
                            <li><strong>激活按钮</strong> - 位于标题栏右侧，提供软件授权相关功能，包括软件激活、机器码管理、付款方式选择等选项，点击后展开激活相关操作菜单</li>
                            <li><strong>帮助按钮</strong> -
                                位于标题栏右侧，包含一系列实用辅助功能，如创建桌面快捷方式、查看软件适配的全景平台列表、修复Krpano组件等选项，为用户提供使用辅助
                            </li>
                            <li><strong>关于按钮</strong> -
                                位于标题栏右侧，提供软件信息和更新相关功能，包括获取最新版本、检查更新、查看更新日志、显示软件详细信息等选项，帮助用户了解软件状态
                            </li>
                        </ul>
                    </div>
                    <!-- 状态提示区 -->
                    <div class="interface-card">
                        <div class="card-header">
                            <span class="card-icon">📊</span>
                            <h3 class="card-title">2. 状态提示区</h3>
                        </div>
                        <ul>
                            <ul>
                                <li><strong>绿色提示条</strong> -
                                    位于标题栏下方的醒目横条，用于传达当前软件版本和全局状态信息，例如"当前版本为测试版，功能尚不完善，等待后续更新"、不同颜色表示不同重要程度：绿色表示普通通知，黄色表示需要注意的提示，红色表示重要警告或必要操作
                                </li>
                                <li><strong>软件状态消息</strong> -
                                    位于界面上方的动态信息区，实时显示软件运行状态、操作反馈和系统通知，如"正在解析全景链接..."、"服务器连接已建立"、等。这些消息帮助用户了解软件当前的工作状态，以及各项功能的执行结果，便于用户随时掌握软件运行情况
                                </li>
                            </ul>
                        </ul>
                    </div>
                    <!-- 功能导航区 -->
                    <div class="interface-card">
                        <div class="card-header">
                            <span class="card-icon">📌</span>
                            <h3 class="card-title">3. 功能导航区</h3>
                        </div>
                        <ul>
                            <li><strong>全景下载</strong> -
                                核心功能模块，支持从多个主流全景平台(如720Yun、建E等)智能解析并下载高质量全景图像，自动识别全景类型、分辨率和图层结构，支持单场景和多场景全景的批量获取，可选择最佳分辨率模式获取源图像
                            </li>
                            <li><strong>图片合成</strong> -
                                专业的图像拼接功能，将下载的分块图像(瓦片)通过智能算法无缝拼合成完整高清全景图，支持多种拼接模式和优化选项，解决边缘模糊和色差问题，可处理大分辨率全景图</li>
                            <li><strong>全景预览</strong> -
                                交互式全景图像浏览器，支持沉浸式查看下载的全景图，提供360°自由旋转、缩放、视角调整等操作，支持热点标记和多场景切换，让用户在下载后直接预览全景效果</li>
                            <li><strong>全景漫游</strong> -
                                先进的VR场景导览功能，创建可交互的全景漫游体验，支持场景切换效果、生成可分享的HTML5全景漫游页面，适用于房产展示、旅游景点介绍等场景
                            </li>
                            <li><strong>全景转视频</strong> -
                                创新的媒体转换工具，将静态全景图像转换为动态视频格式，支持自定义视角变化和时长设置，生成适合社交媒体分享的标准视频文件，增强全景内容的传播性
                            </li>
                            <li><strong>AI工具</strong> -
                                基于人工智能的图像优化套件，提供智能水印去除、图像超分辨率重建、噪点降噪、色彩增强等功能，专为全景图像特性定制的AI处理算法，显著提升图像质量，为专业全景应用提供支持</li>
                        </ul>
                    </div>

                    <!-- 全景链接操作区 -->
                    <div class="interface-card">
                        <div class="card-header">
                            <span class="card-icon">🔗</span>
                            <h3 class="card-title">4. 链接操作区</h3>
                        </div>
                        <ul>
                            <li><strong>全景链接按钮</strong> -
                                智能模式切换控制器，可在"切图模式"(适用于标准全景网站)和"全景链接模式"(适用于直接URL)之间切换，根据不同全景源自动调整最佳下载策略
                            </li>
                            <li><strong>链接输入框</strong> -
                                多功能URL输入区域，支持粘贴完整全景网址，自动识别并格式化输入内容
                            </li>
                            <li><strong>解析全景按钮</strong> -
                                智能分析引擎启动器，点击后会对输入的URL进行深度解析，识别全景平台类型、提取场景结构、分析图像参数，并自动填充下方参数配置区，解析完成后显示检测到的全景场景数量和质量信息
                            </li>
                        </ul>
                    </div>


                    <!-- 全景参数配置区 -->
                    <div class="interface-card">
                        <div class="card-header">
                            <span class="card-icon">⚙️</span>
                            <h3 class="card-title">5. 参数配置区</h3>
                        </div>
                        <ul>
                            <li><strong>平台信息</strong> -
                                显示当前解析出的全景来源平台（如"720Yun"、"建E网"等），软件会根据不同平台特性自动优化下载策略和参数设置，用户也可手动选择正确的平台类型以提高兼容性</li>
                            <li><strong>类型设置</strong> -
                                指示当前全景的类型分类（如"全景平台"、"直链图片"、"瓦片集合"等），决定了下载引擎的工作模式和数据处理流程，特定类型会启用相应的优化选项
                            </li>
                            <li><strong>数量显示</strong> - 展示解析出的全景场景总数量，，用户可据此了解待下载内容的规模，并决定是否需要使用“下载区间”功能</li>
                            <li><strong>分辨率设置</strong> -
                                配置输出全景图的目标分辨率（如"超清"、"高清"、"低清"等），高分辨率提供更多细节但需要更多处理资源，用户可根据实际需求和设备性能选择合适的分辨率</li>
                            <li><strong>名称设置</strong> - 控制下载文件的命名规则，支持使用原始房间名、编号、自定义前缀/后缀等多种命名方式，便于后续文件整理和批量处理</li>
                            <li><strong>图片格式</strong> -
                                选择输出全景图的文件格式（JPG、JPEG、PNG等），不同格式在文件大小、图像质量、透明度支持等方面各有优势，用户可根据用途选择合适的格式
                            </li>
                            <li><strong>图片质量</strong> - 调整压缩格式（如JPG）的质量参数（1-100），值越高图像质量越好但文件体积也越大，建议根据后续使用场景平衡质量和大小
                            </li>
                            <li><strong>水印设置</strong> - 提供水印控制选项，包括添加水印（底部固定水印或随机位置水印），水印文字、图片、透明度和位置等属性</li>
                            <li><strong>全景格式</strong> -
                                指定全景投影模式，如"等距柱面投影(360全景)"或"立方体贴图"，不同格式适用于不同的浏览器和全景展示系统，用户可根据后续应用场景选择
                            </li>
                            <li><strong>下载区间</strong> - 设置在多场景全景中需要下载的场景范围，支持全部下载或指定特定场景（如"1-3,8-10"），避免下载不需要的内容，节省时间和空间
                            </li>
                            <li><strong>素材选项</strong> - 控制是否下载场景相关的附加素材（如热点图标、标签图片、音频文件等），这些素材对于完整重建全景漫游体验可能是必要的</li>
                        </ul>
                    </div>

                    <!-- 下载路径设置区 -->
                    <div class="interface-card">
                        <div class="card-header">
                            <span class="card-icon">📁</span>
                            <h3 class="card-title">6. 路径设置区</h3>
                        </div>
                        <ul>
                            <li><strong>下载路径按钮</strong> - 快捷访问按钮，点击后立即在文件资源管理器中打开当前设置的保存目录，方便用户直接查看或管理已下载的全景文件</li>
                            <li><strong>路径显示框</strong> - 清晰展示当前全景图像文件的保存位置，包含完整的文件路径信息</li>
                            <li><strong>设置路径按钮</strong> - 用于打开系统文件夹选择对话框，允许用户自由浏览并选择新的保存位置，支持本地硬盘、外接设备、网络位置等多种存储媒介</li>
                        </ul>
                    </div>

                    <!-- 下载选项设置区 -->
                    <div class="interface-card">
                        <div class="card-header">
                            <span class="card-icon">🛠️</span>
                            <h3 class="card-title">7. 下载选项区</h3>
                        </div>
                        <ul>
                            <li><strong>打开文件夹选项</strong> - 下载完成后是否自动打开目标文件夹，方便用户直接查看下载结果，无需手动导航到保存位置，简化后续操作流程</li>
                            <li><strong>生成全景漫游选项</strong> -
                                勾选后软件会在下载完成后自动生成HTML5全景漫游页面，包含所有场景的交互式360°浏览功能，可直接用浏览器打开分享给他人
                            </li>
                            <li><strong>删除切图选项</strong> - 控制在拼接完成后是否自动删除原始分块图像(瓦片)，以节省存储空间，不影响最终合成的完整全景图质量</li>
                            <li><strong>日志输出选项</strong> -
                                控制是否在界面实时显示详细下载过程日志，包括每个瓦片的下载状态、网络请求信息等。处理高分辨率全景图时建议关闭此选项，因为大量日志输出会消耗额外系统资源，可能导致下载速度降低和界面响应变慢。仅在需要诊断下载问题时开启此功能
                            </li>
                            <li><strong>无损压缩选项</strong> - 启用后对图像进行无损压缩处理，在不降低图像质量的前提下减小文件大小，适合需要高质量成图但又希望优化存储的场景</li>
                            <li><strong>开始下载按钮</strong> - 主要操作控制按钮，仅在成功解析全景链接后变为可点击状态，点击后将根据当前配置的所有参数启动下载任务，开始获取并处理全景资源
                            </li>
                        </ul>
                    </div>

                    <!-- 下载进度监控区 -->
                    <div class="interface-card">
                        <div class="card-header">
                            <span class="card-icon">📈</span>
                            <h3 class="card-title">8. 进度监控区</h3>
                        </div>
                        <ul>
                            <li><strong>场景标签栏</strong> -
                                动态显示当前正在处理的全景场景名称（例如"客厅"、"卧室"等），帮助用户追踪多场景下载的进度和当前状态，尤其在下载多个场景全景时提供清晰导航
                            </li>
                            <li><strong>实时日志面板</strong> -
                                以滚动方式显示详细的操作流程信息，包括下载开始时间、单个瓦片获取状态、网络请求响应、错误警告等技术细节，便于用户掌握下载过程中的细节和潜在问题</li>
                            <li><strong>可视化进度条</strong> - 直观展示当前下载任务的完成度百分比，预计剩余时间和当前下载进度</li>
                        </ul>
                    </div>

                    <!-- 界面底部资源区 -->
                    <div class="interface-card">
                        <div class="card-header">
                            <span class="card-icon">ℹ️</span>
                            <h3 class="card-title">9. 底部资源区</h3>
                        </div>
                        <ul>
                            <li><strong>免责声明</strong> -
                                醒目提示"本工具仅为学习研究全景图原理使用，下载的图片版权归原作者所有！"，明确软件定位和使用边界，提醒用户尊重原创内容和知识产权
                            </li>
                            <li><strong>支持网站列表</strong> - 动态更新的全景网站兼容列表，直观展示当前版本支持的所有平台和网站，包含平台图标和兼容状态标识，帮助用户快速了解软件能力范围
                            </li>
                            <li><strong>网站适配反馈</strong> - 专门用于提交未能成功下载的全景网站链接，协助开发团队扩展软件兼容性和功能覆盖范围，提升用户体验</li>
                            <li><strong>操作指引</strong> - 全景下载器的操作指引、引导新用户使用软件方式</li>
                        </ul>
                    </div>
                </div>

                <div class="note-box info" style="margin-top: 2rem;">
                    <div class="note-title"><span>ℹ️</span> 使用建议</div>
                    <p>界面遵循自上而下的工作流程设计，推荐按照以下顺序操作：<br>
                        1️⃣ 选择功能模块 → 2️⃣ 输入全景链接 → 3️⃣ 配置下载参数<br>
                        4️⃣ 设置保存选项 → 5️⃣ 开始下载 → 6️⃣ 查看结果。
                    </p>
                </div>


                <div class="pagination">
                    <a href="#installation" class="pagination-prev" data-section="installation">安装指南</a>
                    <a href="#basic-operations" class="pagination-next" data-section="basic-operations">基本操作</a>
                </div>
            </section>

            <!-- 基本操作 -->
            <section id="basic-operations" class="section">
                <h1>基本操作</h1>

                <h2>下载全景图像</h2>
                <p>下载全景图的基本步骤如下：</p>
                <ol>
                    <li>复制您想要下载的全景图像URL（网址）</li>
                    <li>将URL粘贴到全景下载器的地址栏中</li>
                    <li>点击"下载"按钮开始下载过程</li>
                    <li>软件将自动分析URL并开始下载图像块</li>
                    <li>下载完成后，软件会自动将图像块拼接成完整全景图</li>
                </ol>

                <div class="note-box info">
                    <div class="note-title"><span>ℹ️</span> 提示</div>
                    <p>对于大型全景图像，下载过程可能需要一些时间，请耐心等待。</p>
                </div>

                <h2>查看下载状态</h2>
                <p>下载开始后，您可以在任务列表中查看当前下载的状态：</p>
                <ul>
                    <li>进度条显示整体下载进度</li>
                    <li>状态列显示当前下载状态（等待、下载中、已完成、失败等）</li>
                    <li>可以看到已下载的图块数量和总图块数量</li>
                </ul>

                <h2>查看下载结果</h2>
                <p>下载完成后，您可以：</p>
                <ul>
                    <li>点击任务列表中的"打开文件夹"查看保存位置</li>
                    <li>使用"预览"功能直接在应用内查看下载的图像</li>
                    <li>如果启用了自动拼接功能，拼接后的完整全景图将保存在同一文件夹中</li>
                </ul>

                <h2>取消或暂停下载</h2>
                <p>如果需要取消或暂停正在进行的下载：</p>
                <ul>
                    <li>点击工具栏中的"停止"按钮可以取消当前下载</li>
                    <li>在任务列表中右键点击任务，选择"暂停"可暂停下载</li>
                    <li>暂停的任务可以稍后通过右键菜单中的"继续"选项恢复</li>
                </ul>

                <div class="pagination">
                    <a href="#interface-overview" class="pagination-prev" data-section="interface-overview">界面概述</a>
                    <a href="#file-management" class="pagination-next" data-section="file-management">全景图保存</a>
                </div>
            </section>

            <!-- 添加其余章节的内容... -->
            <section id="file-management" class="section">
                <h1>全景图保存</h1>
                <p>本章介绍下载的全景图如何保存和管理。</p>

                <h2>保存路径设置</h2>
                <p>您可以设置默认的保存位置：</p>
                <ol>
                    <li>点击界面中的"设置"按钮</li>
                    <li>在设置面板中找到"保存路径"选项</li>
                    <li>点击"浏览"选择您想要保存文件的文件夹</li>
                    <li>点击"确认"保存设置</li>
                </ol>

                <h2>文件命名规则</h2>
                <p>下载的全景图默认按以下规则命名：</p>
                <ul>
                    <li>单个图块：[全景名称]_[坐标X]_[坐标Y].[格式]</li>
                    <li>拼接后的完整图像：[全景名称]_complete.[格式]</li>
                </ul>
                <p>您可以在设置中修改文件命名模板。</p>

                <h2>文件夹结构</h2>
                <p>每个下载的全景图会创建独立的文件夹，结构如下：</p>
                <pre><code class="language-text">全景名称/
  ├── tiles/ (存放单个图块)
  │    ├── tile_0_0.jpg
  │    ├── tile_0_1.jpg
  │    └── ...
  ├── 全景名称_complete.jpg (拼接后的完整图像)
  └── metadata.json (全景图元数据信息)</code></pre>

                <div class="pagination">
                    <a href="#basic-operations" class="pagination-prev" data-section="basic-operations">基本操作</a>
                    <a href="#advanced-features" class="pagination-next" data-section="advanced-features">高级功能</a>
                </div>
            </section>

            <!-- 高级功能 -->
            <section id="advanced-features" class="section">
                <h1>高级功能</h1>

                <div class="section-toc">
                    <p>本章内容:</p>
                    <ul>
                        <li><a href="#advanced-detection">智能网站检测</a></li>
                        <li><a href="#image-processing">图像处理选项</a></li>
                        <li><a href="#custom-parameters">自定义下载参数</a></li>
                    </ul>
                </div>

                <h2 id="advanced-detection">智能网站检测</h2>
                <p>全景下载器具有智能网站分析功能，可自动识别多种全景图网站的结构：</p>
                <ul>
                    <li>自动识别图像服务器地址和瓦片格式</li>
                    <li>分析全景图层次结构和分辨率级别</li>
                    <li>提取元数据信息（如作者、位置、拍摄日期等）</li>
                </ul>

                <div class="note-box info">
                    <div class="note-title"><span>ℹ️</span> 提示</div>
                    <p>对于未能自动识别的网站，您可以使用自定义参数手动设置下载规则。</p>
                </div>

                <h2 id="image-processing">图像处理选项</h2>
                <p>下载完成后，全景下载器提供多种图像处理选项：</p>
                <ul>
                    <li><strong>自动色彩校正</strong> - 优化图像亮度、对比度和色彩平衡</li>
                    <li><strong>锐化处理</strong> - 增强图像细节和清晰度</li>
                    <li><strong>降噪处理</strong> - 减少图像噪点，提高质量</li>
                    <li><strong>图像裁剪</strong> - 裁剪图像至指定区域或比例</li>
                </ul>

                <h2 id="custom-parameters">自定义下载参数</h2>
                <p>高级用户可以自定义以下下载参数：</p>
                <table>
                    <thead>
                        <tr>
                            <th>参数名称</th>
                            <th>说明</th>
                            <th>默认值</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>瓦片大小</td>
                            <td>单个图像瓦片的像素尺寸</td>
                            <td>256×256</td>
                        </tr>
                        <tr>
                            <td>缩放级别</td>
                            <td>图像缩放等级，越高分辨率越大</td>
                            <td>自动检测最高级别</td>
                        </tr>
                        <tr>
                            <td>下载线程数</td>
                            <td>同时下载的线程数量</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td>超时设置</td>
                            <td>单个瓦片下载超时时间（秒）</td>
                            <td>30</td>
                        </tr>
                        <tr>
                            <td>重试次数</td>
                            <td>下载失败后的重试次数</td>
                            <td>3</td>
                        </tr>
                    </tbody>
                </table>

                <div class="pagination">
                    <a href="#file-management" class="pagination-prev" data-section="file-management">全景图保存</a>
                    <a href="#automation" class="pagination-next" data-section="automation">批量下载</a>
                </div>
            </section>

            <!-- 批量下载 -->
            <section id="automation" class="section">
                <h1>批量下载</h1>

                <h2>批量下载功能</h2>
                <p>全景下载器支持批量下载多个全景图像，提高工作效率：</p>
                <ol>
                    <li>点击工具栏上的"批量下载"按钮</li>
                    <li>在弹出的批量下载窗口中添加URL列表</li>
                    <li>设置公共下载参数（保存位置、图像质量等）</li>
                    <li>点击"开始批量下载"按钮开始任务</li>
                </ol>

                <div class="img-container">
                    <img src="https://raw.githubusercontent.com/YiJiu-Li/ZhuZhuLoadWFP/main/src/Resources/batch_download.png"
                        alt="批量下载界面示例">
                    <p class="caption">批量下载界面示例</p>
                </div>

                <h2>从文件导入URL</h2>
                <p>您可以从文本文件导入URL列表进行批量下载：</p>
                <ol>
                    <li>准备一个文本文件，每行一个全景图URL</li>
                    <li>在批量下载界面点击"从文件导入"</li>
                    <li>选择您准备的文本文件</li>
                    <li>URLs会自动添加到下载列表中</li>
                </ol>

                <div class="note-box tip">
                    <div class="note-title"><span>💡</span> 提示</div>
                    <p>您可以在文本文件中使用 # 开头的行添加注释，这些行会被忽略。</p>
                </div>

                <h2>调度与优先级</h2>
                <p>批量下载任务支持设置下载优先级和调度：</p>
                <ul>
                    <li>可通过拖拽调整任务顺序</li>
                    <li>支持设置高、中、低三级优先级</li>
                    <li>可设置任务开始时间，实现定时下载</li>
                    <li>可设置下载速度限制，避免占用过多带宽</li>
                </ul>

                <div class="pagination">
                    <a href="#advanced-features" class="pagination-prev" data-section="advanced-features">高级功能</a>
                    <a href="#plugins" class="pagination-next" data-section="plugins">转换与拼接</a>
                </div>
            </section>

            <!-- 转换与拼接 -->
            <section id="plugins" class="section">
                <h1>转换与拼接</h1>

                <h2>图像拼接功能</h2>
                <p>全景下载器提供强大的图像拼接功能，可将下载的图像瓦片无缝拼合：</p>
                <ul>
                    <li>自动检测瓦片边界和重叠区域</li>
                    <li>平滑处理瓦片边界，消除拼接痕迹</li>
                    <li>优化内存使用，支持超大全景图拼接</li>
                    <li>支持多核并行处理，加快拼接速度</li>
                </ul>

                <div class="note-box warning">
                    <div class="note-title"><span>⚠️</span> 注意</div>
                    <p>拼接超大全景图时可能需要较大内存，请确保您的计算机有足够的可用内存。</p>
                </div>

                <h2>格式转换选项</h2>
                <p>支持将全景图转换为多种常用格式：</p>
                <table>
                    <thead>
                        <tr>
                            <th>输出格式</th>
                            <th>特点</th>
                            <th>适用场景</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>JPEG</td>
                            <td>压缩率高，文件小</td>
                            <td>网页展示，普通存档</td>
                        </tr>
                        <tr>
                            <td>PNG</td>
                            <td>无损压缩，支持透明</td>
                            <td>需要高质量或透明背景</td>
                        </tr>
                        <tr>
                            <td>TIFF</td>
                            <td>专业图像格式，无损</td>
                            <td>专业编辑，印刷出版</td>
                        </tr>
                        <tr>
                            <td>WebP</td>
                            <td>新一代图像格式，压缩效率高</td>
                            <td>网站加载优化</td>
                        </tr>
                    </tbody>
                </table>

                <h2>全景图投影转换</h2>
                <p>全景下载器可以在不同的投影方式之间转换全景图：</p>
                <ul>
                    <li><strong>等距柱状投影</strong> - 标准全景图格式，便于编辑</li>
                    <li><strong>立方体贴图</strong> - 适用于3D引擎和VR应用</li>
                    <li><strong>球面投影</strong> - 适合特定球面显示设备</li>
                    <li><strong>小行星投影</strong> - 创意展示效果</li>
                </ul>

                <div class="img-container">
                    <img src="https://raw.githubusercontent.com/YiJiu-Li/ZhuZhuLoadWFP/main/src/Resources/projection_types.png"
                        alt="不同投影方式示例">
                    <p class="caption">不同投影方式示例</p>
                </div>

                <div class="pagination">
                    <a href="#automation" class="pagination-prev" data-section="automation">批量下载</a>
                    <a href="#settings" class="pagination-next" data-section="settings">设置与首选项</a>
                </div>
            </section>

            <!-- 设置与首选项 -->
            <section id="settings" class="section">
                <h1>设置与首选项</h1>

                <div class="section-toc">
                    <p>本章内容:</p>
                    <ul>
                        <li><a href="#general-settings">常规设置</a></li>
                        <li><a href="#download-settings">下载设置</a></li>
                        <li><a href="#image-settings">图像设置</a></li>
                        <li><a href="#advanced-settings">高级设置</a></li>
                    </ul>
                </div>

                <h2 id="general-settings">常规设置</h2>
                <p>常规设置可以调整软件的基本行为和外观：</p>
                <ul>
                    <li><strong>界面语言</strong> - 设置软件界面语言（中文、英文等）</li>
                    <li><strong>主题选择</strong> - 浅色、深色或跟随系统</li>
                    <li><strong>启动选项</strong> - 设置软件启动时的行为（自动检查更新、恢复上次任务等）</li>
                    <li><strong>通知设置</strong> - 任务完成、错误通知等</li>
                </ul>

                <h2 id="download-settings">下载设置</h2>
                <p>下载设置控制软件获取全景图的方式：</p>
                <ul>
                    <li><strong>默认保存位置</strong> - 设置下载文件的默认保存文件夹</li>
                    <li><strong>并发连接数</strong> - 同时下载的最大连接数</li>
                    <li><strong>下载超时</strong> - 连接超时和读取超时设置</li>
                    <li><strong>重试策略</strong> - 下载失败后的重试间隔和次数</li>
                    <li><strong>带宽限制</strong> - 设置下载速度上限</li>
                    <li><strong>浏览器模拟</strong> - 设置模拟的浏览器标识（User-Agent）</li>
                </ul>

                <h2 id="image-settings">图像设置</h2>
                <p>图像设置控制下载和处理图像的相关选项：</p>
                <ul>
                    <li><strong>默认输出格式</strong> - 选择保存图像的默认格式（JPEG、PNG等）</li>
                    <li><strong>JPEG压缩质量</strong> - 设置JPEG格式的压缩质量（1-100）</li>
                    <li><strong>自动拼接</strong> - 下载完成后是否自动拼接图像</li>
                    <li><strong>拼接优化</strong> - 边缘平滑、颜色校正等拼接优化选项</li>
                    <li><strong>元数据保留</strong> - 是否在输出图像中保留EXIF等元数据</li>
                </ul>

                <div class="note-box tip">
                    <div class="note-title"><span>💡</span> 提示</div>
                    <p>对于大型全景图，建议使用逐块拼接模式，可以减少内存占用，提高拼接大图的成功率。</p>
                </div>

                <h2 id="advanced-settings">高级设置</h2>
                <p>高级设置提供更细致的软件控制选项：</p>
                <ul>
                    <li><strong>代理服务器</strong> - 设置网络代理，用于访问受限资源</li>
                    <li><strong>Cookie管理</strong> - 导入和管理网站Cookie，用于访问需要登录的资源</li>
                    <li><strong>缓存设置</strong> - 控制临时文件和缓存的存储位置和大小</li>
                    <li><strong>日志级别</strong> - 调整日志记录的详细程度（调试、信息、警告、错误）</li>
                    <li><strong>性能优化</strong> - 内存使用限制、CPU核心使用数等</li>
                </ul>

                <div class="pagination">
                    <a href="#plugins" class="pagination-prev" data-section="plugins">转换与拼接</a>
                    <a href="#keyboard-shortcuts" class="pagination-next" data-section="keyboard-shortcuts">快捷操作</a>
                </div>
            </section>

            <!-- 快捷操作 -->
            <section id="keyboard-shortcuts" class="section">
                <h1>快捷操作</h1>

                <h2>键盘快捷键</h2>
                <p>全景下载器提供多种键盘快捷键，帮助您更高效地操作软件：</p>

                <table>
                    <thead>
                        <tr>
                            <th>快捷键</th>
                            <th>功能</th>
                            <th>适用场景</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>Ctrl+N</code></td>
                            <td>新建下载任务</td>
                            <td>主界面</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl+B</code></td>
                            <td>打开批量下载</td>
                            <td>主界面</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl+S</code></td>
                            <td>保存当前设置</td>
                            <td>设置界面</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl+P</code></td>
                            <td>打开拼接工具</td>
                            <td>主界面</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl+R</code></td>
                            <td>刷新任务状态</td>
                            <td>任务列表</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl+F</code></td>
                            <td>搜索任务</td>
                            <td>任务列表</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl+D</code></td>
                            <td>删除选定任务</td>
                            <td>任务列表</td>
                        </tr>
                        <tr>
                            <td><code>F1</code></td>
                            <td>打开帮助文档</td>
                            <td>全局</td>
                        </tr>
                        <tr>
                            <td><code>Esc</code></td>
                            <td>关闭当前对话框</td>
                            <td>对话框</td>
                        </tr>
                    </tbody>
                </table>

                <h2>鼠标操作</h2>
                <p>支持的鼠标快捷操作：</p>
                <ul>
                    <li><strong>双击任务项</strong> - 打开任务详情或下载文件夹</li>
                    <li><strong>右键任务项</strong> - 显示上下文菜单（暂停、继续、删除等选项）</li>
                    <li><strong>拖拽URL</strong> - 将网址拖拽到主界面可快速创建下载任务</li>
                    <li><strong>拖拽文件</strong> - 拖拽图像文件到程序可打开拼接或转换功能</li>
                    <li><strong>滚轮缩放</strong> - 在预览界面使用滚轮可缩放图像</li>
                </ul>

                <h2>自定义快捷键</h2>
                <p>您可以根据个人习惯自定义快捷键：</p>
                <ol>
                    <li>打开"设置"面板</li>
                    <li>选择"快捷键"选项卡</li>
                    <li>找到需要修改的功能</li>
                    <li>点击对应的快捷键区域</li>
                    <li>按下您想设置的新快捷键组合</li>
                    <li>点击"应用"保存设置</li>
                </ol>

                <div class="note-box warning">
                    <div class="note-title"><span>⚠️</span> 注意</div>
                    <p>某些系统级快捷键可能无法被覆盖。如果您设置的快捷键与系统或其他程序冲突，将会收到提示。</p>
                </div>

                <div class="pagination">
                    <a href="#settings" class="pagination-prev" data-section="settings">设置与首选项</a>
                    <a href="#troubleshooting" class="pagination-next" data-section="troubleshooting">常见问题解答</a>
                </div>
            </section>

            <!-- 常见问题解答 -->
            <section id="troubleshooting" class="section">
                <h1>常见问题解答</h1>

                <div class="section-toc">
                    <p>本章内容:</p>
                    <ul>
                        <li><a href="#download-issues">下载问题</a></li>
                        <li><a href="#stitching-issues">拼接问题</a></li>
                        <li><a href="#performance-issues">性能问题</a></li>
                        <li><a href="#website-compatibility">网站兼容性</a></li>
                    </ul>
                </div>

                <h2 id="download-issues">下载问题</h2>
                <p class="question">问：为什么下载速度很慢？</p>
                <p>答：下载速度可能受多种因素影响：</p>
                <ul>
                    <li>源服务器限制了下载速度或连接数</li>
                    <li>您的网络连接质量不佳</li>
                    <li>并发下载数过多，导致资源竞争</li>
                </ul>
                <p>尝试调整"设置"中的并发连接数，或检查网络连接。某些网站可能有反爬机制，尝试降低下载频率。</p>

                <p class="question">问：为什么有些图像瓦片下载失败？</p>
                <p>答：图像瓦片下载失败可能有以下原因：</p>
                <ul>
                    <li>部分区域在原始全景中不存在</li>
                    <li>网站接口变化，导致下载地址计算错误</li>
                    <li>访问被限制，需要特定的Cookie或授权</li>
                    <li>网络连接不稳定导致超时</li>
                </ul>
                <p>可以尝试增加重试次数，或检查网站是否需要特定的访问授权。</p>

                <h2 id="stitching-issues">拼接问题</h2>
                <p class="question">问：拼接图像时出现"内存不足"错误</p>
                <p>答：拼接大型全景图需要大量内存。解决方法：</p>
                <ul>
                    <li>关闭其他内存占用大的程序</li>
                    <li>在设置中启用"分块拼接模式"</li>
                    <li>降低输出图像分辨率</li>
                    <li>增加虚拟内存大小</li>
                </ul>

                <p class="question">问：拼接后的图像有明显的接缝或色差</p>
                <p>答：这可能是因为：</p>
                <ul>
                    <li>原始瓦片之间存在不一致</li>
                    <li>未启用边缘平滑功能</li>
                    <li>色彩校正算法未正确应用</li>
                </ul>
                <p>尝试在设置中启用"边缘平滑"和"色彩校正"选项，或调整相关参数。</p>

                <h2 id="performance-issues">性能问题</h2>
                <p class="question">问：软件运行变得越来越慢</p>
                <p>答：性能下降可能是由于：</p>
                <ul>
                    <li>任务列表过长，占用过多资源</li>
                    <li>临时文件和缓存过多</li>
                    <li>内存泄漏问题</li>
                </ul>
                <p>建议定期清理已完成任务、使用"清理缓存"功能，或重启软件。</p>

                <p class="question">问：批量下载时电脑变卡</p>
                <p>答：这是由于资源占用过高导致的。解决方法：</p>
                <ul>
                    <li>减少并行下载的任务数量</li>
                    <li>在设置中限制下载速度和线程数</li>
                    <li>设置任务优先级为"低"</li>
                </ul>

                <h2 id="website-compatibility">网站兼容性</h2>
                <p class="question">问：为什么某些网站的全景图无法下载？</p>
                <p>答：这可能是因为：</p>
                <ul>
                    <li>网站使用了不支持的全景图格式</li>
                    <li>网站采用了特殊的加密或反爬措施</li>
                    <li>需要特定的登录凭证或Cookie</li>
                </ul>
                <p>您可以向开发者报告这些网站，以便在未来版本中增加支持。对于需要登录的网站，可以尝试使用Cookie导入功能。</p>

                <div class="pagination">
                    <a href="#keyboard-shortcuts" class="pagination-prev" data-section="keyboard-shortcuts">快捷操作</a>
                    <a href="#error-messages" class="pagination-next" data-section="error-messages">错误信息解释</a>
                </div>
            </section>

            <!-- 错误信息解释 -->
            <section id="error-messages" class="section">
                <h1>错误信息解释</h1>

                <p>使用过程中可能遇到各种错误信息，本章节帮助您理解和解决这些错误。</p>

                <h2>常见错误代码</h2>
                <table>
                    <thead>
                        <tr>
                            <th>错误代码</th>
                            <th>错误描述</th>
                            <th>可能原因及解决方法</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ERR_NETWORK_001</td>
                            <td>网络连接失败</td>
                            <td>检查您的互联网连接，确认网络正常工作。</td>
                        </tr>
                        <tr>
                            <td>ERR_PARSE_002</td>
                            <td>URL解析错误</td>
                            <td>输入的URL格式不正确或不完整，请检查并重新输入。</td>
                        </tr>
                        <tr>
                            <td>ERR_ACCESS_003</td>
                            <td>访问被拒绝</td>
                            <td>目标网站可能限制了访问。尝试使用Cookie导入或更改浏览器标识。</td>
                        </tr>
                        <tr>
                            <td>ERR_TIMEOUT_004</td>
                            <td>连接超时</td>
                            <td>网络延迟过高或服务器响应慢。增加超时阈值或稍后重试。</td>
                        </tr>
                        <tr>
                            <td>ERR_FORMAT_005</td>
                            <td>不支持的格式</td>
                            <td>遇到了软件不支持的全景图格式。请联系开发者添加支持。</td>
                        </tr>
                        <tr>
                            <td>ERR_MEMORY_006</td>
                            <td>内存不足</td>
                            <td>处理大图像时内存不足。关闭其他程序或使用分块处理模式。</td>
                        </tr>
                        <tr>
                            <td>ERR_DISK_007</td>
                            <td>磁盘空间不足</td>
                            <td>保存路径的磁盘空间不足。清理磁盘或更改保存位置。</td>
                        </tr>
                    </tbody>
                </table>

                <h2>下载错误</h2>
                <p>下载过程中可能出现的具体错误：</p>
                <ul>
                    <li><strong>HTTP 403 Forbidden</strong> - 服务器拒绝访问，可能需要Cookie或更改User-Agent</li>
                    <li><strong>HTTP 404 Not Found</strong> - 请求的瓦片不存在，可能是URL计算错误</li>
                    <li><strong>连接重置</strong> - 服务器主动断开连接，可能是触发了反爬机制</li>
                    <li><strong>SSL错误</strong> - 网站证书问题，可尝试在设置中禁用SSL验证</li>
                </ul>

                <div class="note-box info">
                    <div class="note-title"><span>ℹ️</span> 提示</div>
                    <p>如遇连续下载错误，适当增加重试间隔可以避免被网站封禁IP。</p>
                </div>

                <h2>拼接错误</h2>
                <p>图像拼接过程中可能遇到的问题：</p>
                <ul>
                    <li><strong>缺少图块错误</strong> - 部分图块下载失败导致拼接不完整</li>
                    <li><strong>图块尺寸不一致</strong> - 源网站提供的图块大小不一致</li>
                    <li><strong>格式不兼容</strong> - 图块格式与拼接设置不匹配</li>
                    <li><strong>拼接参数错误</strong> - 图块排列参数设置不正确</li>
                </ul>

                <h2>其他常见错误</h2>
                <ul>
                    <li><strong>配置文件损坏</strong> - 尝试重置软件设置或重新安装</li>
                    <li><strong>缺少组件错误</strong> - 可能缺少某些系统组件或库文件，按提示安装</li>
                    <li><strong>权限错误</strong> - 保存路径无写入权限，选择其他文件夹或以管理员身份运行</li>
                </ul>

                <h2>日志文件</h2>
                <p>大多数错误和警告会记录在日志文件中，可以帮助诊断问题：</p>
                <ol>
                    <li>日志文件位置：<code>%AppData%\ZhuZhuLoadWFP\logs\</code></li>
                    <li>可以在"帮助"菜单中选择"查看日志文件"直接打开</li>
                    <li>联系支持时，提供相关日志文件有助于更快解决问题</li>
                </ol>

                <div class="pagination">
                    <a href="#troubleshooting" class="pagination-prev" data-section="troubleshooting">常见问题解答</a>
                    <a href="#updates" class="pagination-next" data-section="updates">更新与升级</a>
                </div>
            </section>

            <!-- 更新与升级 -->
            <section id="updates" class="section">
                <h1>更新与升级</h1>

                <h2>版本检查</h2>
                <p>全景下载器提供多种方式检查和获取更新：</p>
                <ul>
                    <li><strong>自动检查</strong> - 默认每次启动软件时会检查更新</li>
                    <li><strong>手动检查</strong> - 在"帮助"菜单中选择"检查更新"</li>
                    <li><strong>设置间隔</strong> - 在设置中可以调整自动检查更新的频率</li>
                </ul>

                <div class="note-box info">
                    <div class="note-title"><span>ℹ️</span> 提示</div>
                    <p>建议保持自动检查更新，以确保您使用的是最新版本，包含最新功能和修复。</p>
                </div>

                <h2>更新过程</h2>
                <p>当检测到新版本时，更新过程如下：</p>
                <ol>
                    <li>软件会显示更新提示，包含新版本号和更新内容</li>
                    <li>选择"现在更新"将开始下载更新包</li>
                    <li>下载完成后，软件会引导您完成安装过程</li>
                    <li>安装完成后，软件会自动重启并使用新版本</li>
                </ol>

                <h2>手动更新</h2>
                <p>如果自动更新失败，您可以手动更新软件：</p>
                <ol>
                    <li>访问GitHub发布页面：<a
                            href="https://github.com/YiJiu-Li/ZhuZhuLoadWFP/releases">https://github.com/YiJiu-Li/ZhuZhuLoadWFP/releases</a>
                    </li>
                    <li>下载最新版本的安装包</li>
                    <li>关闭正在运行的全景下载器</li>
                    <li>运行下载的安装程序</li>
                    <li>按照安装向导完成更新</li>
                </ol>

                <h2>历史版本</h2>
                <p>如果需要使用历史版本：</p>
                <ul>
                    <li>在GitHub发布页面可以找到所有历史版本</li>
                    <li>每个版本包含详细的更新日志和发布说明</li>
                    <li>不建议使用过旧的版本，因为可能存在功能缺失或安全问题</li>
                </ul>

                <h2>更新问题排查</h2>
                <p>如果更新过程中遇到问题：</p>
                <ul>
                    <li>确保您有管理员权限安装软件</li>
                    <li>检查杀毒软件是否阻止了安装程序</li>
                    <li>尝试完全卸载旧版本后重新安装</li>
                    <li>检查网络连接是否正常</li>
                </ul>

                <div class="pagination">
                    <a href="#error-messages" class="pagination-prev" data-section="error-messages">错误信息解释</a>
                    <a href="#contact-support" class="pagination-next" data-section="contact-support">联系开发者</a>
                </div>
            </section>

            <!-- 联系开发者 -->
            <section id="contact-support" class="section">
                <h1>联系开发者</h1>

                <h2>获取支持</h2>
                <p>如果您在使用全景下载器过程中遇到问题，或有功能建议，可以通过以下方式联系开发者：</p>

                <h3>GitHub Issues</h3>
                <p>推荐使用GitHub Issues报告问题或提交功能请求：</p>
                <ol>
                    <li>访问项目GitHub页面：<a
                            href="https://github.com/YiJiu-Li/ZhuZhuLoadWFP/issues">https://github.com/YiJiu-Li/ZhuZhuLoadWFP/issues</a>
                    </li>
                    <li>点击"New issue"创建新问题</li>
                    <li>选择问题类型（Bug报告、功能请求等）</li>
                    <li>填写详细信息，包括问题描述、复现步骤、截图等</li>
                    <li>提交后开发者会尽快回复</li>
                </ol>

                <div class="note-box tip">
                    <div class="note-title"><span>💡</span> 提示</div>
                    <p>提交问题时尽量提供详细信息，包括软件版本、操作系统版本、错误日志等，这有助于开发者更快定位和解决问题。</p>
                </div>

                <h3>电子邮件</h3>
                <p>可以通过电子邮件联系开发者：</p>
                <p><strong>支持邮箱</strong>：support@zhuzhupanorama.com</p>
                <p>邮件主题请注明"全景下载器+问题简述"，以便更快获得回复。</p>

                <h2>反馈与建议</h2>
                <p>欢迎提供使用反馈和功能建议，这对改进软件非常重要：</p>
                <ul>
                    <li>功能建议 - 分享您希望看到的新功能或改进</li>
                    <li>使用体验 - 告诉我们软件使用感受</li>
                    <li>支持网站 - 提交您希望支持的全景网站</li>
                </ul>

                <h2>参与开发</h2>
                <p>全景下载器是一个开源项目，欢迎开发者参与：</p>
                <ul>
                    <li>贡献代码 - 提交Pull Request到GitHub仓库</li>
                    <li>测试新功能 - 参与Beta版测试</li>
                    <li>完善文档 - 帮助改进使用手册和文档</li>
                    <li>翻译软件 - 帮助将软件翻译到其他语言</li>
                </ul>
                <p>参与开发请先阅读项目贡献指南：<a href="https://github.com/YiJiu-Li/ZhuZhuLoadWFP/blob/main/CONTRIBUTING.md">贡献指南</a>
                </p>

                <h2>隐私政策</h2>
                <p>我们重视您的隐私：</p>
                <ul>
                    <li>全景下载器不会收集个人识别信息</li>
                    <li>仅收集匿名使用统计和崩溃报告（可在设置中关闭）</li>
                    <li>收集的数据仅用于改进软件，不会分享给第三方</li>
                </ul>
                <p>完整隐私政策：<a href="https://github.com/YiJiu-Li/ZhuZhuLoadWFP/blob/main/PRIVACY.md">隐私政策</a></p>

                <div class="pagination">
                    <a href="#updates" class="pagination-prev" data-section="updates">更新与升级</a>
                    <span></span>
                </div>
            </section>
        </main>
    </div>

    <!-- Prism.js 用于代码高亮 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-core.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script>
        // DOM元素
        const sidebar = document.getElementById('sidebar');
        const menuToggle = document.getElementById('menu-toggle');
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.section');

        // 导航菜单切换
        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
        });

        // 主题切换
        themeToggle.addEventListener('click', toggleTheme);

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');

            if (document.body.classList.contains('dark-mode')) {
                themeIcon.textContent = '☀️';
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.textContent = '🌙';
                localStorage.setItem('theme', 'light');
            }
        }

        // 加载保存的主题
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark-mode');
            themeIcon.textContent = '☀️';
        }

        // 导航链接点击处理
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();

                const targetId = link.getAttribute('data-section');

                // 更新活动链接
                navLinks.forEach(el => el.classList.remove('active'));
                link.classList.add('active');

                // 更新活动部分
                sections.forEach(section => section.classList.remove('active'));
                document.getElementById(targetId).classList.add('active');

                // 在移动设备上关闭侧边栏
                if (window.innerWidth <= 768) {
                    sidebar.classList.remove('active');
                }

                // 更新URL哈希并滚动到顶部
                window.location.hash = targetId;
                window.scrollTo(0, 0);
            });
        });

        // 从URL哈希加载部分
        function loadFromHash() {
            const hash = window.location.hash.substring(1);
            if (hash && document.getElementById(hash)) {
                navLinks.forEach(el => el.classList.remove('active'));
                document.querySelector(`[data-section="${hash}"]`).classList.add('active');

                sections.forEach(section => section.classList.remove('active'));
                document.getElementById(hash).classList.add('active');
            }
        }

        // 处理分页导航
        document.querySelectorAll('.pagination a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();

                const targetId = link.getAttribute('data-section');

                // 更新活动链接和部分
                navLinks.forEach(el => el.classList.remove('active'));
                document.querySelector(`[data-section="${targetId}"]`).classList.add('active');

                sections.forEach(section => section.classList.remove('active'));
                document.getElementById(targetId).classList.add('active');

                // 更新URL哈希并滚动到顶部
                window.location.hash = targetId;
                window.scrollTo(0, 0);
            });
        });

        // 搜索功能
        searchInput.addEventListener('input', performSearch);

        function performSearch() {
            const query = searchInput.value.trim().toLowerCase();

            if (query.length < 2) {
                searchResults.style.display = 'none';
                return;
            }

            const results = [];

            // 搜索所有部分的内容
            sections.forEach(section => {
                const sectionId = section.id;
                // 修复这里：处理可能没有h1标签的情况
                let sectionTitle = "未命名章节";
                const headingElement = section.querySelector('h1') || section.querySelector('h2');
                if (headingElement) {
                    sectionTitle = headingElement.textContent;
                }

                const sectionText = section.textContent.toLowerCase();

                if (sectionText.includes(query)) {
                    // 查找匹配内容的上下文
                    const index = sectionText.indexOf(query);
                    let snippet = sectionText.substring(Math.max(0, index - 30), Math.min(sectionText.length, index + 100));

                    // 使开始和结束更自然
                    if (index > 30) snippet = '...' + snippet;
                    if (index + 100 < sectionText.length) snippet = snippet + '...';

                    // 加亮查询文本
                    const highlightedSnippet = snippet.replace(new RegExp(query, 'gi'), match => `<span class="highlight">${match}</span>`);

                    results.push({
                        id: sectionId,
                        title: sectionTitle,
                        snippet: highlightedSnippet
                    });
                }
            });

            // 显示结果
            if (results.length > 0) {
                searchResults.innerHTML = '';
                results.forEach(result => {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'search-result-item';
                    resultItem.innerHTML = `
                        <div class="search-result-title">${result.title}</div>
                        <div class="search-result-snippet">${result.snippet}</div>
                    `;
                    resultItem.addEventListener('click', () => {
                        // 导航到结果部分
                        window.location.hash = result.id;
                        loadFromHash();
                        searchResults.style.display = 'none';
                        searchInput.value = '';
                    });
                    searchResults.appendChild(resultItem);
                });
                searchResults.style.display = 'block';
            } else {
                searchResults.innerHTML = '<div class="search-result-item">没有找到匹配的结果</div>';
                searchResults.style.display = 'block';
            }
        }

        // 点击页面其他部分关闭搜索结果
        document.addEventListener('click', (e) => {
            if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                searchResults.style.display = 'none';
            }
        });

        // 初始加载
        window.addEventListener('DOMContentLoaded', () => {
            // 从URL哈希加载部分
            if (window.location.hash) {
                loadFromHash();
            }

            // 处理内部锚点链接
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);

                    if (targetElement) {
                        e.preventDefault();
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        });

        // 监听哈希变化
        window.addEventListener('hashchange', loadFromHash);
    </script>
</body>

</html>